<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<title>My Orders - POIUYTRE</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
		<!-- Place favicon.ico in the root directory -->
		
		<!-- Google Font -->
		<link href='https://fonts.googleapis.com/css?family=Lato:400,700,900' rel='stylesheet' type='text/css'>
		<link href='https://fonts.googleapis.com/css?family=Bree+Serif' rel='stylesheet' type='text/css'>

		<!-- all css here -->
		<!-- bootstrap v3.3.6 css -->
		<link rel="stylesheet" href="css/bootstrap.min.css">
		<!-- animate css -->
		<link rel="stylesheet" href="css/animate.css">
		<!-- jquery-ui.min css -->
		<link rel="stylesheet" href="css/jquery-ui.min.css">
		<!-- meanmenu css -->
		<link rel="stylesheet" href="css/meanmenu.min.css">
		<!-- nivo-slider css -->
		<link rel="stylesheet" href="lib/css/nivo-slider.css">
		<link rel="stylesheet" href="lib/css/preview.css">
		<!-- slick css -->
		<link rel="stylesheet" href="css/slick.css">
		<!-- lightbox css -->
		<link rel="stylesheet" href="css/lightbox.min.css">
		<!-- material-design-iconic-font css -->
		<link rel="stylesheet" href="css/material-design-iconic-font.css">
		<!-- All common css of theme -->
		<link rel="stylesheet" href="css/default.css">
		<!-- style css -->
		<link rel="stylesheet" href="style.css">
        <!-- shortcode css -->
        <link rel="stylesheet" href="css/shortcode.css">
		<!-- responsive css -->
		<link rel="stylesheet" href="css/responsive.css">
		<!-- modernizr css -->
		<script src="js/vendor/modernizr-2.8.3.min.js"></script>
        <style>
            #map {
                height: 100%;
            }
 
            html, body {
                height: 100%;
                margin: 0;
                padding: 0;
            }
 
            #over_map {
                position: absolute;
                top: 10px;
                left: 89%;
                z-index: 99;
                background-color: #ccffcc;
                padding: 10px;
            }
        </style>
    </head>
 
    <body>
          
        <div id="map"></div>
 
        <div id="over_map">
            <div>
                <span>Live Tracing:1 </span><span id="cars">0</span>
            </div>
        </div>
         
         
 <footer>
				<!-- Footer-area start -->
				<div class="footer-area footer-3">
					<div class="container">
						<div class="row">
							<div class="col-lg-4 col-md-4 col-sm-5 col-xs-12">
								<div class="single-footer">
									<h3 class="footer-title  title-border">Contact Us</h3>
									<ul class="footer-contact">
										<li><span>Address :</span>28 Green Tower, Street Name,<br>India.</li>
										<li><span>Cell-Phone :</span>+91 12345 67890</li>
										<li><span>Email :</span> email@gmail.com</li>
									</ul>
								</div>
							</div>
							<div class="col-lg-2 col-md-2 col-sm-3 col-xs-12">
								<div class="single-footer">
									<h3 class="footer-title  title-border">Accounts</h3>
									<ul class="footer-menu">
										<li><a><i class="zmdi zmdi-dot-circle"></i>My Account</a></li>
										<li><a><i class="zmdi zmdi-dot-circle"></i>My Wishlist</a></li>
										<li><a><i class="zmdi zmdi-dot-circle"></i>My Cart</a></li>
										<li><a><i class="zmdi zmdi-dot-circle"></i>Order History</a></li>
										<li><a><i class="zmdi zmdi-dot-circle"></i>Check out</a></li>
									</ul>
								</div>
							</div>
							<div class="col-lg-2 col-md-2 hidden-sm col-xs-12">
								<div class="single-footer">
									<h3 class="footer-title  title-border">Featured</h3>
									<ul class="footer-menu">
										<li><a><i class="zmdi zmdi-dot-circle"></i>New Products</a></li>
										<li><a><i class="zmdi zmdi-dot-circle"></i>Top Sellers</a></li>
										<li><a><i class="zmdi zmdi-dot-circle"></i>High Ratings</a></li>
										<li><a><i class="zmdi zmdi-dot-circle"></i>Festive Offer</a></li>
										<li><a><i class="zmdi zmdi-dot-circle"></i>Summer Specials</a></li>
									</ul>
								</div>
							</div>
							<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
								<div class="single-footer">
									<h3 class="footer-title  title-border">Email Newsletters</h3>
									<div class="footer-subscribe">
										
											<input type="text" name="email" placeholder="Email Address..." />
											<button class="button-one submit-btn-4" data-text="Subscribe">Subscribe</button>
										
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- Footer-area end -->
				<!-- Copyright-area start -->
				<div class="copyright-area copyright-2">
					<div class="container">
						<div class="row">
							<div class="col-sm-6 col-xs-12">
								<div class="copyright">
									<p class="mb-0">&copy; <a>POIUYTRE</a> - 2021</p>
								</div>
							</div>
							<div class="col-sm-6 col-xs-12">
								<div class="payment  text-right">
									<a><img src="img/payment/1.png" alt="" /></a>
									<a><img src="img/payment/2.png" alt="" /></a>
									<a><img src="img/payment/3.png" alt="" /></a>
									<a><img src="img/payment/4.png" alt="" /></a>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- Copyright-area start -->
			</footer>
			<!-- FOOTER END -->
			
        <!-- jQuery CDN -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <!-- Firebase -->
        <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
        <script>
            // Replace your Configuration here..
            const firebaseConfig = {
  apiKey: "AIzaSyA72oaWLYsSUoRwH1FKpYa0VEII1xrWOW0",
  authDomain: "userauth-308104.firebaseapp.com",
  projectId: "userauth-308104",
  storageBucket: "userauth-308104.appspot.com",
  messagingSenderId: "890910289367",
  appId: "1:890910289367:web:6d4cef4dfad3547c5f6f92",
  measurementId: "G-SY1GGS8M3W"
};
            firebase.initializeApp(firebaseconfig);
        </script>
 
        <script>
 
            // counter for online cars...
            var cars_count = 0;
            // markers array to store all the markers, so that we could remove marker when any car goes offline and its data will be remove from realtime database...
            var markers;
            var map;
            function initMap() { // Google Map Initialization... 
                map = new google.maps.Map(document.getElementById('map'), {
                    zoom: 8,
                    center: new google.maps.LatLng(23.034, 74.56),
                    mapTypeId: 'terrain'
                });
            }
 
             
             function ShowLocation(lat,lng) {
                 
            if(markers!=null){
                markers.setMap(null);
            }
             
 
                var uluru = { lat: lat, lng: lng };
 
                var marker = new google.maps.Marker({
                    position: uluru,
                    title:'Live Location',
                    map: map
                });
                map.setZoom(17);
                map.panTo(marker.position);
                markers = marker; // add marker 
            }
 
 
            // get firebase database reference.
            var loc_ref= firebase.database().ref("locations");
    //------------------------------------------------------------------------------------
            loc_ref.on('value',gotData,errData);
            var curr_lat; var curr_lng;
            function gotData(data){
                console.log(data.val());
                var locations= data.val();
                var user_id = getUrlParameter('id');
                console.log("user_id is: "+user_id);
                curr_lat=locations[user_id].latitude;
                curr_lng=locations[user_id].longitude;
                console.log("current_latitude:"+parseFloat(curr_lat)+" && current_longitude: " +parseFloat(curr_lng));
                ShowLocation(parseFloat(curr_lat),parseFloat(curr_lng));
            }
 
            function errData(err){
                console.log('error: '+err);
            }
    //---------------------------------------------------------------------------------------
        var getUrlParameter = function getUrlParameter(sParam) {
            var sPageURL = window.location.search.substring(1),
                sURLVariables = sPageURL.split('&'),
                sParameterName,
                i;
 
            for (i = 0; i < sURLVariables.length; i++) {
                sParameterName = sURLVariables[i].split('=');
 
                if (sParameterName[0] === sParam) {
                    return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
                }
            }
        };
 
        </script>
        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC8HdkhY4Iy8jo4bM0uIJVnaekAw7A0Xm8&amp;callback=initMap">
        </script>
        
 
    </body>
</html>
